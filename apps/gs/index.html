<!DOCTYPE html>
<html lang="si">
	<head>
			<meta charset="UTF-8">
			<title>Zemljevidi gozdov slovenije</title>
			
			<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
			<link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gVXBsb2FkZWQgdG86IFNWRyBSZXBvLCB3d3cuc3ZncmVwby5jb20sIEdlbmVyYXRvcjogU1ZHIFJlcG8gTWl4ZXIgVG9vbHMgLS0+DQo8c3ZnIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgY2xhc3M9Imljb24iICB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTgwNy4wNTc0MDIgMzEzLjIzMjYyOHYtMi4zMjAyNDFjMTQuNjk0ODY0LTg1LjA3NTUyOS0yNi4yOTYwNzMtMTcyLjQ3MTI5OS0xNjMuMTkwMzMzLTE1MS41ODkxMjQtOS4yODA5NjcgMS41NDY4MjgtMTQuNjk0ODY0LTYyLjY0NjUyNi04Mi43NTUyODctNzYuNTY3OTc2LTI4LjYxNjMxNC01LjQxMzg5Ny04NS4wNzU1MjktNi4xODczMTEtMTE2LjAxMjA4NC0wLjc3MzQxNC00MC45OTA5MzcgNi45NjA3MjUtNzguODg4MjE4IDQwLjIxNzUyMy05OS43NzAzOTMgODkuNzE2MDEySDMyNC40NDcxM2MtNzYuNTY3OTc2LTQuNjQwNDgzLTEyMy43NDYyMjQgNjMuNDE5OTQtMTEyLjE0NTAxNSAxMzQuNTc0MDE4IDEuNTQ2ODI4IDYuOTYwNzI1IDAuNzczNDE0IDEzLjkyMTQ1IDEuNTQ2ODI4IDIwLjg4MjE3Ni0zMC45MzY1NTYgMjAuODgyMTc1LTU5LjU1Mjg3IDY4LjA2MDQyMy01OS41NTI4NyAxMTQuNDY1MjU2IDAgNjguMDYwNDIzIDUzLjM2NTU1OSAxMTYuNzg1NDk4IDEwOS44MjQ3NzMgMTE2Ljc4NTQ5OWgwLjc3MzQxNGMtNi45NjA3MjUgNzAuMzgwNjY1IDU2LjQ1OTIxNSA5NS45MDMzMjMgMTA3LjUwNDUzMiA5NS45MDMzMjNINDcxLjM5NTc3YzEzLjkyMTQ1IDAgMjcuMDY5NDg2LTMuMDkzNjU2IDM5LjQ0NDEwOS04LjUwNzU1MyAxMy45MjE0NSA2Ljk2MDcyNSAyOC42MTYzMTQgMTEuNjAxMjA4IDQ0Ljg1ODAwNiAxMS42MDEyMDloOTkuNzcwMzkzYzUxLjA0NTMxNyAwIDk0LjM1NjQ5NS00MS43NjQzNSAxMDcuNTA0NTMyLTk4Ljk5Njk3OSAwIDAgMTA2LjczMTExOCA2MC4zMjYyODQgMTMzLjAyNzE5LTExNC40NjUyNTcgMTIuMzc0NjIyLTc0LjI0NzczNC0zOC42NzA2OTUtMTIyLjk3MjgxLTg4Ljk0MjU5OC0xMzAuNzA2OTQ5eiIgZmlsbD0iIzFjYTUzOCIgLz48cGF0aCBkPSJNNzE0LjI0NzczNCA0ODcuMjUwNzU1Yy0zLjg2NzA2OSA1MC4yNzE5MDMtMzMuMjU2Nzk4IDUyLjU5MjE0NS00NS42MzE0MiA1MS4wNDUzMTggMy44NjcwNjktNS40MTM4OTcgNy43MzQxMzktMTEuNjAxMjA4IDEwLjgyNzc5NS0xOC41NjE5MzQgMjAuODgyMTc1LTQwLjk5MDkzNyAwLTg4LjE2OTE4NCA2LjE4NzMxMS05MC40ODk0MjYgMjkuMzg5NzI4LTE0LjY5NDg2NCAxMi4zNzQ2MjItNjAuMzI2Mjg0IDEyLjM3NDYyMi02MC4zMjYyODRsLTYuOTYwNzI1IDEuNTQ2ODI4YzkuMjgwOTY3IDIzLjk3NTgzMSAxLjU0NjgyOCA0MC45OTA5MzctMTMuMTQ4MDM2IDQ4LjcyNTA3NS0zNy4xMjM4NjcgMTguNTYxOTM0LTU0LjEzODk3My0yMC4xMDg3NjEtNTQuMTM4OTczLTIwLjEwODc2MWwtMy4wOTM2NTUgOC41MDc1NTNjMTMuOTIxNDUgMzEuNzA5OTcgNTMuMzY1NTU5IDMxLjcwOTk3IDUzLjM2NTU1OCAzMS43MDk5N2wwLjc3MzQxNCAzMS43MDk5NjljLTI3Ljg0MjkgMzcuODk3MjgxLTQwLjIxNzUyMyAwLTQwLjIxNzUyMiAwbC0xLjU0NjgyOCAxMC4wNTQzODFjMjMuMjAyNDE3IDM5LjQ0NDEwOSAzOS40NDQxMDkgNC42NDA0ODMgMzkuNDQ0MTA5IDQuNjQwNDgzLTEuNTQ2ODI4IDI5LjM4OTcyOC0xNy43ODg1MiA0Ny4xNzgyNDgtMzUuNTc3MDQgNTguMDA2MDQzLTM0LjgwMzYyNSAyMS42NTU1ODktNzEuMTU0MDc5IDE2LjI0MTY5Mi03MS4xNTQwNzggMTYuMjQxNjkyIDE5LjMzNTM0Ny0xMy45MjE0NSAyNi4yOTYwNzMtMjkuMzg5NzI4IDIzLjIwMjQxNy01MS4wNDUzMTgtMy4wOTM2NTYtMjIuNDI5MDAzLTEzLjE0ODAzNi0yMC4xMDg3NjEtMzIuNDgzMzg0LTM0LjAzMDIxMS0xMi4zNzQ2MjItOC41MDc1NTMtMTkuMzM1MzQ3LTIwLjEwODc2MS0yMS42NTU1ODktNDEuNzY0MzUxLTMuMDkzNjU2LTIxLjY1NTU4OSAyNy44NDI5LTM3LjEyMzg2NyAyNy44NDI5LTM3LjEyMzg2N2wtMy44NjcwNjktNi45NjA3MjVjLTU1LjY4NTgwMSAyMC44ODIxNzUtMjcuMDY5NDg2IDc0LjI0NzczNC0yNy4wNjk0ODcgNzQuMjQ3NzM0LTE5LjMzNTM0NyAwLjc3MzQxNC0yMS42NTU1ODkgMC43NzM0MTQtMzIuNDgzMzgzLTI3LjA2OTQ4Ni0xMC44Mjc3OTUtMjcuODQyOS0zNy4xMjM4NjctMTAuODI3Nzk1LTM3LjEyMzg2Ny0xMC44Mjc3OTRsMS41NDY4MjcgNS40MTM4OTdjMjAuMTA4NzYxLTEzLjkyMTQ1IDI4LjYxNjMxNCAxNi4yNDE2OTIgMjguNjE2MzE1IDE2LjI0MTY5MiA1LjQxMzg5NyAzNS41NzcwMzkgMzcuODk3MjgxIDMzLjI1Njc5OCAzNy44OTcyODEgMzMuMjU2Nzk3IDU3LjIzMjYyOCAxMi4zNzQ2MjIgMTguNTYxOTM0IDk3LjQ1MDE1MS0yOC42MTYzMTUgODUuMDc1NTI5LTcyLjcwMDkwNi0xOS4zMzUzNDctNjEuMDk5Njk4LTM2LjM1MDQ1My02MS4wOTk2OTctMzYuMzUwNDUzIDQzLjMxMTE3OC0yMy45NzU4MzEgMTEuNjAxMjA4LTYxLjg3MzExMiAxMS42MDEyMDgtNjEuODczMTEybC02Ljk2MDcyNSA1LjQxMzg5N2MyMy4yMDI0MTcgOS4yODA5NjcgMCA1NS42ODU4MDEtMjMuOTc1ODMxIDQyLjUzNzc2NS0yNi4yOTYwNzMtMTQuNjk0ODY0LTMuODY3MDY5LTQxLjc2NDM1LTMuODY3MDY5LTQxLjc2NDM1MWwtNy43MzQxMzkgMS41NDY4MjhjLTIzLjIwMjQxNyAzNy44OTcyODEgMTguNTYxOTM0IDU0LjEzODk3MyAxOC41NjE5MzMgNTQuMTM4OTczIDEuNTQ2ODI4IDE0LjY5NDg2NCA3LjczNDEzOSAyNC43NDkyNDUgMTQuNjk0ODY0IDMxLjcwOTk3LTM3Ljg5NzI4MS0yLjMyMDI0Mi0xMTguMzMyMzI2LTE3LjAxNTEwNi05My41ODMwODEtMTAxLjMxNzIyMSAwIDAgNzEuMTU0MDc5IDQuNjQwNDgzIDc1LjAyMTE0OC02MS4wOTk2OThsLTEwLjA1NDM4MS0zLjg2NzA2OXMtNS40MTM4OTcgNTQuOTEyMzg3LTY2LjUxMzU5NSA1MS44MTg3MzFjMCAwLTQ2LjQwNDgzNC0xMC44Mjc3OTUtMjAuMTA4NzYyLTYyLjY0NjUyNmwtOC41MDc1NTItMS41NDY4MjhzLTMyLjQ4MzM4NCA0Ny4xNzgyNDggMTYuMjQxNjkxIDc1Ljc5NDU2MmMwIDAtMTMuMTQ4MDM2IDM3LjEyMzg2NyAxLjU0NjgyOCA3MC4zODA2NjUtMTkuMzM1MzQ3IDkuMjgwOTY3LTMzLjI1Njc5OC0xNi4yNDE2OTItMzMuMjU2Nzk3LTE2LjI0MTY5MmwtMS41NDY4MjggMTUuNDY4Mjc4YzE3LjAxNTEwNiAyMC4xMDg3NjEgMzIuNDgzMzg0IDE0LjY5NDg2NCAzOS40NDQxMDkgMTAuODI3Nzk1IDE1LjQ2ODI3OCAyNC43NDkyNDUgNTAuMjcxOTAzIDQ1LjYzMTQyIDEyMi4xOTkzOTUgNDQuMDg0NTkybC0wLjc3MzQxMyAzOTguMzA4MTU3aDEyMi45NzI4MDlsLTE1LjQ2ODI3OC0zOTguMzA4MTU3YzM3LjEyMzg2Ny01LjQxMzg5NyA2Ny4yODcwMDktNy43MzQxMzkgOTEuMjYyODQtMzYuMzUwNDU0IDU1LjY4NTgwMSAxMy4xNDgwMzYgNjAuMzI2Mjg0LTU4Ljc3OTQ1NiA2MC4zMjYyODQtNTguNzc5NDU2aC03LjczNDEzOXoiIGZpbGw9IiM2NTMyMGIiIC8+PC9zdmc+" />
			
			<style>
				body {
					width: 100vw;
					height: 100vh;
          font-family: monospace;
				}
				nav {
					position: fixed;
					top: 0px;
					margin-top: 8px;
					left: calc(50vw - 150px);
					z-index: 420;
				}
				select {
					width: 300px;
					font-size: 1.1em;
					font-family: monospace;
				}
				#maps {
					border: none;
          width: min-content;
				}
				#main {
					position: absolute;
					background-image: url("assets/Zemljevid_Slovenije_Layer-0.png");
					background-repeat: no-repeat;
				}
				#overlay {
					mix-blend-mode: multiply;
				}
				#minMax {
					position: fixed;
					bottom: 8px;
					right: 8px;
				}
        #info {
          position: fixed;
					top: 8px;
					right: 8px;
        }
				button {
          width: 45px;
          height: 35px;
          font-size: 1.2em;
          line-height: 1.2em;
				}
				img.fullMap {
					position: fixed;
					margin: auto;
				}
				#sciName {
					position: fixed;
					bottom: 8px;
					left: 8px;
					background-color: white;
					padding: 5.5px 10px;
					font-size: 1.3em;
					font-family: monospace;
					border: solid black 1px;
					font-weight: bold;
					border-radius: 3px;
				}
        
        #info.Hidden,
        #sciName.Hidden,
        #minMax.Hidden {
          display: none;
        }
        
        dialog {
          font-size: 1.1em;
        }
        dialog button {
          float: right;
        }
        
        ::backdrop {
          background-image: -webkit-linear-gradient(0deg,
            #8AA74B,
            #829B4A,
            #8DA655,
            #8DA655,
            #5A8337,
            #547936,
            #578034,
            #5E863F,
            #5D7C36,
            #44653A,
            #516F4D,
            #4B6E44,
            #465744,
            #2C392F,
            #223023
          );
          opacity: 0.75;
        }
          
				@media (orientation: landscape) {
          body.fullMap {
            overflow: hidden;
          }
					div.fullMap {
						background-size: contain;
					}
					img.fullMap {
						height: 100%;
						left: 0;
						right: 0;
					}
				}
				@media (orientation: portrait) {
          body.fullMap {
            overflow: hidden;
          }
					div.fullMap {
						background-size: contain;
					}
					img.fullMap {
						width: 100%;
						top: 0;
						bottom: 0;
					}
				}
				
				@media (pointer: none), (pointer: coarse) { /* PHONEs - touch device */
					body {
						margin: 0px;
						padding: 0px;
					}
					nav {
						left: calc(50vw - 200px);
					}
					select {
						width: 400px;
						font-size: 1.3em;
					}
				}
				@media screen and (max-width: 549px) { /* small screen sizes*/
					nav {
						left: 8px;
					}
					select {
						min-width: 150px;
            width: 70vw;
					}
				}
			</style>
	</head>
	<body>
		<nav>
			<fieldset id="maps"></fieldset>
		</nav>
		<div id="main">
			<img id="overlay" src="assets/Zemljevid_Slovenije_23_Beli_gaber.png" />
		</div>
		<div id="minMax">
			<button type="button">üó∫Ô∏è</button>
		</div>
		<div id="sciName">
			<span>Carpinus betulus</span>
		</div>
    <div id="info">
			<button type="button">‚ÑπÔ∏è</button>
		</div>
    <dialog>
      <button autofocus>‚ùå</button>
      <p>Spletna stran uporablja <a href="http://www.zgs.si/gozdovi_slovenije/o_gozdovih_slovenije/karte/index.html" target=‚Äù_blank‚Äù>zemljevide</a> gozdov iz spletne strani <a href="http://www.zgs.si/" target=‚Äù_blank‚Äù>ZGS.si</a></p>
      <p>Izvorna koda je na voljo na <a href="https://github.com/sp0ng3Bob/sp0ng3Bob.github.io/tree/master/apps/gs" target=‚Äù_blank‚Äù>githubu</a>.</p>
      <p>Dvojni klik na zemljevidu skrije ali poka≈æe obrobne gumbe in latinsko ime drevesa.</p>
    </dialog>
		<script>
      function toggleSideButtons() {
        info.classList.toggle("Hidden")
        latName.classList.toggle("Hidden")
        minMax.classList.toggle("Hidden")
      }
      
      const body = document.querySelector("body")
			const mainFrame = document.querySelector("#main")
			const overlay = document.querySelector("#overlay")
			const mapsButtons = document.querySelector("#maps")
			const minMax = document.querySelector("#minMax")
			const minMaxButton = document.querySelector("button")
			const latName = document.querySelector("#sciName")
      const dialog = document.querySelector("dialog")
      const info = document.querySelector("#info")
      const closeDialog = dialog.querySelector("button")
			
			const zemljevidi = ['Zemljevid_Slovenije_23_Beli_gaber.png', 'Zemljevid_Slovenije_22_Breza.png', 'Zemljevid_Slovenije_21_Bukev.png', 'Zemljevid_Slovenije_20_Cer.png', 'Zemljevid_Slovenije_19_Cesnja.png', 'Zemljevid_Slovenije_18_Crna_jelsa.png', 'Zemljevid_Slovenije_17_Crni_gaber.png', 'Zemljevid_Slovenije_16_Dob.png', 'Zemljevid_Slovenije_15_Gorski_brest.png', 'Zemljevid_Slovenije_14_Gorski_javor.png', 'Zemljevid_Slovenije_13_Graden.png', 'Zemljevid_Slovenije_12_Jelka.png', 'Zemljevid_Slovenije_11_Jerebika.png', 'Zemljevid_Slovenije_10_Kostanj.png', 'Zemljevid_Slovenije_9_Lipa_in_lipovec.png', 'Zemljevid_Slovenije_8_Macesen.png', 'Zemljevid_Slovenije_7_Mali_jesen.png', 'Zemljevid_Slovenije_6_Mokovec.png', 'Zemljevid_Slovenije_5_Ostrolistni_in_topokrpi_javor.png', 'Zemljevid_Slovenije_4_Rdeci_bor.png','Zemljevid_Slovenije_3_Robinija.png', 'Zemljevid_Slovenije_2_Smreka.png', 'Zemljevid_Slovenije_1_Trepetlika.png', 'Zemljevid_Slovenije_0_Veliki_jesen.png']
      const slovenskaImena = ['Beli gaber', 'Breza', 'Bukev', 'Cer', 'ƒåe≈°nja', 'ƒårna jel≈°a', 'ƒårni gaber', 'Dob', 'Gorski brest', 'Gorski javor', 'Graden', 'Jelka', 'Jerebika', 'Kostanj', 'Lipa in lipovec', 'Macesen', 'Mali jesen', 'Mokovec', 'Ostrolistni in topokrpi javor', 'Rdeƒçi bor', 'Robinija', 'Smreka', 'Trepetlika', 'Veliki jesen']
			const latinskaImena = {"Beli gaber": "Carpinus betulus", "Breza": "Betula", "Bukev": "Fagus sylvatica", "Cer": "Quercus cerris", "Cesnja": "Prunus avium", "Crna jelsa": "Alnus glutinosa", "Crni gaber": "Ostrya carpinifolia", "Dob": "Quercus robur", "Gorski brest": "Ulmus glabra", "Gorski javor": "Acer pseudoplatanus", "Graden": "Quercus petraea", "Jelka": "Abies", "Jerebika": "Sorbus aucuparia", "Kostanj": "Castanea", "Lipa in lipovec": "Tilia platyphyllos & Tilia cordata", "Macesen": "Larix", "Mali jesen": "Fraxinus ornus (= ƒårni jesen)", "Mokovec": "Sorbus aria", "Ostrolistni in topokrpi javor": "Acer platanoides & Acer obtusatum", "Rdeci bor": "Pinus sylvestris", "Robinija": "Robinia pseudoacacia", "Smreka": "Picea abies", "Trepetlika": "Populus tremula", "Veliki jesen": "Fraxinus excelsior"}
			
      const select = document.createElement("SELECT")
			for (let id in zemljevidi) {
				const option = document.createElement("OPTION")
				option.setAttribute("value", zemljevidi[id])
				option.innerHTML = slovenskaImena[id] //zemljevidi[id].split("_").slice(3).join(" ").slice(0, -4)
				select.add(option)
			}
			mapsButtons.appendChild(select)

      info.addEventListener("click", () => {
        dialog.showModal() //.show() -- doesn't trigger the backdrop
      });

      closeDialog.addEventListener("click", () => {
        dialog.close();
      });
      
      mainFrame.addEventListener("dblclick", () => {
        toggleSideButtons()
      })
      
      // dbclick for mobile devices
      /*let tapCount = 0
      let lastTapTime = 0
      mainFrame.addEventListener('touchstart', function(event) {
        const currentTime = new Date().getTime();
        //const tapTimeThreshold = 320; // Threshold for double tap in milliseconds

        // Check if it's a double tap
        if (tapCount == 1 && (currentTime - lastTapTime) < 320) {
          tapCount = 0
          toggleSideButtons()
        } else {
          tapCount = 1
          lastTapTime = currentTime
        }
      })*/
			
			minMaxButton.addEventListener("click", (e) => {
				mainFrame.classList.toggle("fullMap")
				overlay.classList.toggle("fullMap")
				body.classList.toggle("fullMap")
			})
			
			maps.addEventListener("change", (e) => {
				overlay.setAttribute("src", "assets/" + e.target.value)
				latName.children[0].innerHTML = latinskaImena[e.target.value.split("_").slice(3).join(" ").slice(0, -4)]
			})
			
			//Service worker
			/*if ("serviceWorker" in navigator) {
				try {
					const registration = navigator.serviceWorker.register("/serviceworker.js", {
						scope: "/gs"
					})
					if (registration.installing) {
						console.log("Service worker installing")
					} else if (registration.waiting) {
						console.log("Service worker installed")
					} else if (registration.active) {
						console.log("Service worker active")
					}
				} catch (error) {
					console.error(`Registration failed with ${error}`)
				}
			}*/
		</script>
	</body>
</html>